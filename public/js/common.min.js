/*! Englishfishing 07-04-2019 | Front-end: Jekins */

function closeOutside(n,e){$("html").on("click",function(t){var i=$(t.target);if($(n).hasClass(e)){if(i.is(n)||i.parents(n).length)return;$(n).removeClass(e)}})}var productsSlider;function initProductSlider(){productsSlider=new Swiper(".products-slider__inner",{navigation:{nextEl:".products-slider__next",prevEl:".products-slider__prev"}})}if($.fn.buttonToggle=function(i,n){var e=$(this).find(".button-toggle__btn"),o="button-toggle__btn_active";function s(t){e.removeClass(o),t.addClass(o),n&&n(e.index(t))}e.each(function(t){t===i&&s($(this))}),e.on("click",function(){s($(this))})},$.fn.initCountSwitcher=function(){this.each(function(){var t=".count-switcher",i=$(this).find(t+"__minus"),n=$(this).find(t+"__plus"),e=$(this).find(t+"__count"),o=$(this).find("input"),s=Number($("body").find("[data-count-switcher-price]").data("count-switcher-price")),c=Number($("body").find("[data-count-switcher-max]").data("count-switcher-max"))||1e9,a=s,r=$("body").find("[data-count-switcher-sum] > span"),l=0;i.click(function(t){t.preventDefault(),1<l&&(l--,a-=s,e.text(l),r.text(a),o.val(a))}),n.click(function(t){t.preventDefault(),l!==c&&(a=s*++l,e.text(l),r.text(a),o.val(a))}),n.click()})},$(function(){$(".count-switcher").initCountSwitcher()}),$.fn.dropdown=function(){$(this).each(function(){var n=".dropdown",t=$(this).find(n+"__link"),e=(n+"_active").replace(/^\./g,"");t.click(function(t){t.preventDefault();var i=$(this).parents(n);return i.hasClass(e)?i.removeClass(e):i.addClass(e),!1}),closeOutside(n,e)})},$(function(){$(".dropdown").dropdown()}),$.fn.formGo=function(){$(this).on("click",function(t){t.preventDefault();var i=".form",n="#"+$(this).data("form-go"),e=$(this).closest(i);e.find(i+"__section").hide(),e.find(n).show()})},$(function(){$("[data-form-go]").formGo()}),$.fn.listFiltersToggle=function(){var t=".list-filters",i=this.closest(t),n=(t+"_active").replace(/\./g,"");this.on("click",function(t){t.preventDefault(),i.hasClass(n)?i.removeClass(n):i.addClass(n)}),closeOutside(t,n)},$(function(){$(".list-filters__activator").listFiltersToggle()}),$.fn.initListProductsView=function(t){var i="product-card_col",n="list-products_cols",e=$(this),o=e.find(".product-card");1===t?(o.addClass(i),e.addClass(n)):(o.removeClass(i),e.removeClass(n))},$(function(){var i=$("#list-products"),t=i.data("products-view"),n=Number("cols"===t);$("#toggle-view-products").buttonToggle(n,function(t){i.initListProductsView(t)})}),$.fn.mobileSidebarClose=function(t,i){t.preventDefault();var n=i+"_active",e=$("."+i);e.removeClass(n),e.hide(),$("body").removeClass("body-fixed")},$.fn.mobileSidebarOpen=function(t,i){t.preventDefault();var n=i+"_active",e=$("."+i);e.addClass(n),e.show(),$("body").addClass("body-fixed")},$(function(){var i="mobile-sidebar";$(document).on("click",'[data-close="mobile-sidebar"]',function(t){$(this).mobileSidebarClose(t,i)}),$(document).on("click",'[data-open="mobile-sidebar"]',function(t){$(this).mobileSidebarOpen(t,i)})}),$.fn.initFancyboxGallery=function(e){var t=".product-gallery",i=$(this).find(t+"__preview"),o=$(this).find(t+"__item");i.on("click","a",function(t){t.preventDefault();var n=[];o.each(function(){var t=$(this).find("a"),i={src:t.attr("href"),opts:{thumb:t.find("img").attr("src")}};$(e).attr("href")===i.src?n.unshift(i):n.push(i)}),$.fancybox.destroy(),$.fancybox.open(n,{loop:!0})})},$.fn.initProductGallery=function(){this.each(function(){var o,s=".product-gallery",c=$(this),a=$(this).find(s+"__preview"),t=$(this).find(s+"__images"),r=$(this).find(s+"__item");t.on("click","a",function(t){t.preventDefault();var i=$(this),n=$(this).closest(s+"__item"),e=(s+"__item_active").replace(/^\./g,"");a.empty(),i.clone().appendTo(a),r.removeClass(e),n.addClass(e),o=this,c.initFancyboxGallery(o)}),t.find("a").first().click()})},$(function(){$(".product-gallery").initProductGallery()}),$(function(){var n=".product-tags",e=n+"__item",o=(e+"_active").replace(/^\./g,"");$(document).on("click",".product-tags__btn",function(t){t.preventDefault();var i=$(this).closest(e).find("input");$(this).closest(n).find(e).removeClass(o),$(this).closest(e).addClass(o),i.prop("checked",!0)})}),$.fn.initProductsSet=function(){this.each(function(){var t=$(this).find("input"),i=($(this).find("[data-sum]"),$(this).find("[data-saving]"),$(this).find("[data-total]")),n=0;$(t).each(function(){$(this).is(":checked")&&(n+=Number($(this).val()))}),t.on("change",function(){$(this).is(":checked")?n+=Number($(this).val()):n-=Number($(this).val()),i.text(n)}),i.text(n)})},$(function(){$(".products-set").initProductsSet()}),$(function(){$(window).on("resize",function(){if($(".products-slider").length){var t=$(window).width();initProductSlider(),productsSlider.params.slidesPerView=t<=768?1.3:t<=1230?3.3:5}}).trigger("resize")}),document.querySelector(".promo-block-slider"))var promoBlockSlider=new Swiper(".promo-block-slider",{navigation:{nextEl:".promo-block-slider__next",prevEl:".promo-block-slider__prev"},pagination:{el:".swiper-pagination",clickable:!0},loop:!0});$(function(){function t(t){var i=t.attr("href");$.scrollTo(i,500,{offset:-30})}$(".scroll-to").click(function(){return t($(this)),!1}),$(".scroll-to_return").click(function(){t($(this))})}),$.fn.select=function(){$(this).each(function(){var t=$(this).attr("placeholder");$(this).select2({placeholder:t,minimumResultsForSearch:1/0})})},$(function(){$(".select-single-basic").select()}),$.fn.initTabs=function(){this.each(function(){var n=".tabs",t=($(this),$(this).find(n+"__actions")),i=$('[data-toggle="tab"]');$actionsItems=t.find(n+"__actions-item"),$content=$(this).find(n+"__content"),$contentItems=$content.find(n+"__content-item"),activeClassAction=(n+"__actions-item_active").replace(/^\./g,""),activeClassContent=(n+"__content-item_active").replace(/^\./g,""),t.on("click","a",function(t){t.preventDefault();var i=$(this).attr("href");$contentItems.removeClass(activeClassContent),$content.find(i).addClass(activeClassContent),$actionsItems.removeClass(activeClassAction),$(this).closest(n+"__actions-item").addClass(activeClassAction)}),i.on("click",function(t){t.preventDefault(),$('[href="'+$(this).attr("href")+'"]').each(function(){$(this).closest(n).length&&($(this).click(),$("html, body").animate({scrollTop:$(this).closest(n).offset().top},500))})}),$actionsItems.first().find("a").click()})},$(function(){$(".tabs").initTabs()}),$.fn.initTextField=function(){this.each(function(){var t=".text-field",i=$(this),n=i.find(t+"__control"),e=(t+"_focused").replace(/^\./g,"");n.focus(function(){i.addClass(e)}),n.blur(function(){!n.val()&&i.removeClass(e)}),n.val()&&i.addClass(e)})},$(function(){$(".text-field").initTextField()});