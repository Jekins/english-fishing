/*! Englishfishing 21-04-2019 | Front-end: Jekins */

function closeOutside(e,n){$("html").on("click",function(t){var i=$(t.target);if($(e).hasClass(n)){if(i.is(e)||i.parents(e).length)return;$(e).removeClass(n)}})}var productsSlider;function initProductSlider(){productsSlider=new Swiper(".products-slider__inner",{navigation:{nextEl:".products-slider__next",prevEl:".products-slider__prev"}})}if($.fn.buttonToggle=function(i,e){var n=$(this).find(".button-toggle__btn"),o="button-toggle__btn_active";function s(t){n.removeClass(o),t.addClass(o),e&&e(n.index(t))}n.each(function(t){t===i&&s($(this))}),n.on("click",function(){s($(this))})},$.fn.initCountSwitcher=function(){this.each(function(){var t=".count-switcher",i=$(this).find(t+"__minus"),e=$(this).find(t+"__plus"),n=$(this).find(t+"__count"),o=$(this).find("input"),s=Number($("body").find("[data-count-switcher-price]").data("count-switcher-price")),c=Number($("body").find("[data-count-switcher-max]").data("count-switcher-max"))||1e9,a=s,r=$("body").find("[data-count-switcher-sum] > span"),l=o.val()?Number(o.val())-1:0;i.click(function(t){t.preventDefault(),1<l&&(l--,a-=s,n.text(l),r.text(a),o.val(a))}),e.click(function(t){t.preventDefault(),l!==c&&(a=s*++l,n.text(l),r.text(a),o.val(a))}),e.click()})},$(function(){$(".count-switcher").initCountSwitcher()}),$.fn.dropdown=function(){$(this).each(function(){var e=".dropdown",t=$(this).find(e+"__link"),n=(e+"_active").replace(/^\./g,"");t.click(function(t){t.preventDefault();var i=$(this).parents(e);return i.hasClass(n)?i.removeClass(n):i.addClass(n),!1}),closeOutside(e,n)})},$(function(){$(".dropdown").dropdown()}),$.fn.formGo=function(){$(this).on("click",function(t){t.preventDefault();var i=".form",e="#"+$(this).data("form-go"),n=$(this).closest(i);n.find(i+"__section").hide(),n.find(e).show()})},$(function(){$("[data-form-go]").formGo()}),$.fn.listFiltersToggle=function(){var t=".list-filters",i=this.closest(t),e=(t+"_active").replace(/\./g,"");this.on("click",function(t){t.preventDefault(),i.hasClass(e)?i.removeClass(e):i.addClass(e)}),closeOutside(t,e)},$(function(){$(".list-filters__activator").listFiltersToggle()}),$.fn.initListProductsView=function(t){var i="product-card_col",e="list-products_cols",n=$(this),o=n.find(".product-card");1===t?(o.addClass(i),n.addClass(e)):(o.removeClass(i),n.removeClass(e))},$(function(){var i=$("#list-products"),t=i.data("products-view"),e=Number("cols"===t);$("#toggle-view-products").buttonToggle(e,function(t){i.initListProductsView(t)})}),$.fn.mobileSidebarClose=function(t,i){t.preventDefault();var e=i+"_active",n=$("."+i);n.removeClass(e),n.hide(),$("body").removeClass("body-fixed")},$.fn.mobileSidebarOpen=function(t,i){t.preventDefault();var e=i+"_active",n=$("."+i);n.addClass(e),n.show(),$("body").addClass("body-fixed")},$(function(){var i="mobile-sidebar";$(document).on("click",'[data-close="mobile-sidebar"]',function(t){$(this).mobileSidebarClose(t,i)}),$(document).on("click",'[data-open="mobile-sidebar"]',function(t){$(this).mobileSidebarOpen(t,i)})}),$.fn.initFancyboxGallery=function(n){var t=".product-gallery",i=$(this).find(t+"__preview"),o=$(this).find(t+"__item");i.on("click","a",function(t){t.preventDefault();var e=[];o.each(function(){var t=$(this).find("a"),i={src:t.attr("href"),opts:{thumb:t.find("img").attr("src")}};$(n).attr("href")===i.src?e.unshift(i):e.push(i)}),$.fancybox.destroy(),$.fancybox.open(e,{loop:!0})})},$.fn.initProductGallery=function(){this.each(function(){var o,s=".product-gallery",c=$(this),a=$(this).find(s+"__preview"),t=$(this).find(s+"__images"),r=$(this).find(s+"__item");t.on("click","a",function(t){t.preventDefault();var i=$(this),e=$(this).closest(s+"__item"),n=(s+"__item_active").replace(/^\./g,"");a.empty(),i.clone().appendTo(a),r.removeClass(n),e.addClass(n),o=this,c.initFancyboxGallery(o)}),t.find("a").first().click()})},$(function(){$(".product-gallery").initProductGallery()}),$(function(){var e=".product-tags",n=e+"__item",o=(n+"_active").replace(/^\./g,"");$(document).on("click",".product-tags__btn",function(t){t.preventDefault();var i=$(this).closest(n).find("input");$(this).closest(e).find(n).removeClass(o),$(this).closest(n).addClass(o),i.prop("checked",!0)})}),$.fn.initProductsSet=function(){this.each(function(){var t=$(this).find("input"),i=($(this).find("[data-sum]"),$(this).find("[data-saving]"),$(this).find("[data-total]")),e=0;$(t).each(function(){$(this).is(":checked")&&(e+=Number($(this).val()))}),t.on("change",function(){$(this).is(":checked")?e+=Number($(this).val()):e-=Number($(this).val()),i.text(e)}),i.text(e)})},$(function(){$(".products-set").initProductsSet()}),$(function(){$(window).on("resize",function(){if($(".products-slider").length){var t=$(window).width();initProductSlider(),productsSlider.params.slidesPerView=t<=768?1.3:t<=1230?3.3:5}}).trigger("resize")}),document.querySelector(".promo-block-slider"))var promoBlockSlider=new Swiper(".promo-block-slider",{navigation:{nextEl:".promo-block-slider__next",prevEl:".promo-block-slider__prev"},pagination:{el:".swiper-pagination",clickable:!0},loop:!0});$(function(){function t(t){var i=t.attr("href");$.scrollTo(i,500,{offset:-30})}$(".scroll-to").click(function(){return t($(this)),!1}),$(".scroll-to_return").click(function(){t($(this))})}),$.fn.select=function(){$(this).each(function(){var t=$(this).attr("placeholder");$(this).select2({placeholder:t,minimumResultsForSearch:1/0})})},$(function(){$(".select-single-basic").select()}),$.fn.initTabs=function(){this.each(function(){var e=".tabs",t=($(this),$(this).find(e+"__actions")),i=$('[data-toggle="tab"]');$actionsItems=t.find(e+"__actions-item"),$content=$(this).find(e+"__content"),$contentItems=$content.find(e+"__content-item"),activeClassAction=(e+"__actions-item_active").replace(/^\./g,""),activeClassContent=(e+"__content-item_active").replace(/^\./g,""),t.on("click","a",function(t){t.preventDefault();var i=$(this).attr("href");$contentItems.removeClass(activeClassContent),$content.find(i).addClass(activeClassContent),$actionsItems.removeClass(activeClassAction),$(this).closest(e+"__actions-item").addClass(activeClassAction)}),i.on("click",function(t){t.preventDefault(),$('[href="'+$(this).attr("href")+'"]').each(function(){$(this).closest(e).length&&($(this).click(),$("html, body").animate({scrollTop:$(this).closest(e).offset().top},500))})}),$actionsItems.first().find("a").click()})},$(function(){$(".tabs").initTabs()}),$.fn.initTextField=function(){this.each(function(){var t=".text-field",i=$(this),e=i.find(t+"__control"),n=(t+"_focused").replace(/^\./g,"");e.focus(function(){i.addClass(n)}),e.blur(function(){!e.val()&&i.removeClass(n)}),e.val()&&i.addClass(n)})},$(function(){$(".text-field").initTextField()});